---
import { Image } from "astro:assets";
import PrimaryCTA from "@components/ui/buttons/PrimaryCTA.astro";
import SecondaryCTA from "@components/ui/buttons/SecondaryCTA.astro";
import ReviewComponent from "@components/ui/blocks/ReviewComponent.astro";
import heroImage from "@images/selva-peruana.jpeg";

const {
  title,
  subTitle,
  primaryBtn,
  primaryBtnURL,
  secondaryBtn,
  secondaryBtnURL,
  withReview,
  avatars,
  starCount,
  rating,
  reviews,
  src,
  alt
} = Astro.props;

interface Props {
  title: string;
  subTitle?: string;
  primaryBtn?: string;
  primaryBtnURL?: string;
  secondaryBtn?: string;
  secondaryBtnURL?: string;
  withReview?: boolean;
  avatars?: Array<string>;
  starCount?: number;
  rating?: string;
  reviews?: string;
  src?: any;
  alt?: string;
}
---

<!-- Sección principal con diseño responsivo -->
<section
  class="mx-auto max-w-[85rem] px-4 py-14 sm:px-6 lg:px-8 2xl:max-w-full grid gap-6 md:grid-cols-2 md:items-center"
>
  <!-- Sección de texto -->
  <div>
    <h1
      class="text-xl font-bold text-neutral-800 dark:text-neutral-200 sm:text-2xl lg:text-3xl"
    >
      <Fragment set:html={title} />
    </h1>

    {subTitle && (
      <p class="mt-3 text-sm text-neutral-700 dark:text-neutral-400 lg:w-4/5">
        {subTitle}
      </p>
    )}

    <!-- Botones CTA -->
    <div class="mt-7 flex flex-col sm:flex-row gap-3">
      {primaryBtn && (
        <PrimaryCTA
          title={primaryBtn}
          url={primaryBtnURL}
          customClasses="w-full sm:w-auto text-center rounded-lg bg-green-500 hover:bg-green-600 text-white font-bold px-5 py-2 text-sm transition duration-300 shadow-lg transform hover:scale-105"
        />
      )}
      {secondaryBtn && (
        <SecondaryCTA
          title={secondaryBtn}
          url={secondaryBtnURL}
          customClasses="w-full sm:w-auto text-center rounded-lg border border-green-500 text-green-500 hover:bg-green-500 hover:text-white font-medium px-5 py-2 text-sm transition duration-300"
        />
      )}
    </div>

    <!-- Sección de reseñas -->
    {withReview && (
      <ReviewComponent avatars={avatars} starCount={starCount} rating={rating} reviews={reviews} />
    )}
  </div>

  <!-- Sección de imagen con ajuste responsivo -->
  <div class="flex justify-center md:justify-end">
    {src && alt && (
      <img
        src={src.src}  
        alt={alt} 
        class="w-full max-w-[400px] md:max-w-[500px] lg:max-w-[600px] object-cover rounded-lg shadow-lg"
        draggable="false"
        loading="eager"
      />
    )}
  </div>
</section>
